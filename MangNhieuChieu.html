<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Mang nhieu chieu</title>
    <script>
        let arr;
        let soDong;
        let soCot;

          function khoiTao(){
              soDong = prompt("Nhap so dong: ");
              soDong = Number.parseInt(soDong);

              soCot = prompt("Nhap so cot: ");
              soCot = Number.parseInt(soCot);

              let i,j;
              arr = new Array(soDong);
              for(i = 0; i < soDong; i++){
                  arr[i] = new Array(soCot);
                  for(j = 0; j < soCot; j++){
                      arr[i][j] = Math.round(Math.random()*1000);
                  }
              }
          }
          function hienMang(){
              let i,j;
              document.write("<table border='1'>");
              for (i = 0; i < soDong; i++){
                  document.write("<tr>");
                  for (j = 0; j < soCot; j++){
                      document.write("<td>" + arr[i][j] + "</td>");

                  }
                  document.writeln("</tr>");
              }
              document.writeln("</table>");
          }
          function tongHang(id){
             let sum = 0,j;
             for(j = 0; j < soCot;j++)
             {
                 sum += arr[id][j];
             return sum;
             }
          }
          function tongCot(id){
              let sum = 0, i;
              for (i = 0; i < soDong;i++){
                  sum += arr[id][i];
                  return sum;
              }

          }
          function timMin(){
             let i,j,min;
             min = arr[0][0];
             for(i = 0; i <soDong;i++){
                 for (j = 0; j < soCot; j++){
                     if (min > arr[i][j]){
                         min = arr[i][j];
                     }
                 }
             }
             return min;
          }
          function timMax(){
              let i,j,max;
              max = arr[0][0];
              for(i = 0; i < soDong;i++){
                  for (j = 0; j < soCot; j++){
                      if (max < arr[i][j]){
                          max = arr[i][j];
                      }
                  }
              }
              return max;
          }
        function sapXep(){
            let i,j,tmp;
            let len = soCot*soDong;
            let tmpArr = new Array(soCot,soDong);
            for (i = 0; i < len;i++) {
                tmpArr[i] = arr[Math.floor(i / soCot)][i % soCot];
            }
            tmpArr.sort(function (a,b) {
                return a-b;
            });
            for (i =0; i < len ;i++){
                arr[Math.floor(i/soCot)][i%soCot] = tmpArr[i];
            }
        }
        function baoCao(){
            let i,j;
            document.write("<table border='1'>");
            let tongCot = new Array(soCot);    // tạo một mảng một chiều để tính tổng cột
            for(i = 0; i < soCot; i++){
                tongCot[i] = 0; // tạo được mảng 1 chiều theo số cột
            }
            for (i = 0; i < soDong; i++){
                document.write("<tr>");
                let tongHang = 0;
                for (j = 0; j < soCot; j++){
                    tongHang += arr[i][j];
                    tongCot[j] += arr[i][j];               // tinh tong tung cot (i hang, j cot)
                    document.write("<td>" + arr[i][j] + "</td>"); // viết các phần tử trong mảng
                }
                document.writeln("<td><b>" + tongHang + "</b></td>");
                document.writeln("</tr>");
            }
            let tongCong =0;
            for (i = 0; i < soCot; i++){
                tongCong += tongCot[i];      // tinh tong cua cac cac cot
                document.writeln("<td><b>" + tongCot[i] + "</b></td>");
            }
            document.writeln("<td><b>" + tongCong + "</b></td>");
            document.writeln("</table>");
        }
          function main(){
                khoiTao();
                hienMang();
                document.writeln("<br> Tong hang 1 la: "+tongHang(1));
                document.writeln("<br>Tong cot 1 la: "+tongCot(1));
                document.writeln("<br> Min bang: " + timMin());
                document.writeln("<br> Mảng sau khi sap xep: ");
                sapXep();
                hienMang();
                baoCao();
          }
          main();
    </script>
</head>
<body>

</body>
</html>
